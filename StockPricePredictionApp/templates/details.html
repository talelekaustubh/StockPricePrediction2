<!doctype html>
<html lang="en">
    {% load static %}

 
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,700' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	
	<link rel="stylesheet" href="{% static 'contact/css/style.css' %}">

    <link rel="stylesheet" href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}">
    <link href="{% static 'assets/vendor/fonts/circular-std/style.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'assets/libs/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'assets/vendor/fonts/fontawesome/css/fontawesome-all.css' %}">
    <link rel="stylesheet" href="{% static 'assets/vendor/charts/c3charts/c3.css' %}">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/js/standalone/selectize.min.js" integrity="sha256-+C0A5Ilqmu4QcSPxrlGpaZxJ04VjsRjKu+G82kl5UJk=" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/css/selectize.bootstrap3.min.css" integrity="sha256-ze/OEYGcFbPRmvCnrSeKbRTtjG4vGLHXgOqsyLFTRjg=" crossorigin="anonymous" />
    <title>$tonks</title>
</head>
<style>
    .bg-white {
        background-color: #141326!important;
    }
    .dashboard-content {
        background: #0a092a;
        padding: 30px 30px 60px 30px;
    }
    .card-body {
        background: #1c0f34;
        padding: 0px;
    }
    .text-muted {
        color: #a9f028 !important;
    }
    h1, h2, h3, h4, h5, h6 {
        color: #42d28b;
        margin: 0
    px
     0
    px
     15
    px
     0
    px
    ;
        font-family: 'Circular Std Medium';
    }
    .card-header {
        background-color: #0a1428;
        border-bottom: 1
    px
     solid #e6e6f2;
    }
    .table thead th, .table th {
        color: #e8ff96;
        font-family: 'Circular Std Medium';
    }
    a {
        color: #ffffff;
    }
    .attribute {
        color: #dcdc16;
        font-size: 26px;
        text-align: center;
    }
    .value {
        text-align: center;
        font-size: 19px;
    }
    label {
        display: inline-block;
        max-width: 100%;
        margin-bottom: 16px;
        font-size: 30px;
        color: #ffd266;
        margin-top: 19px;
        font-family: 'Ariana';
        margin-left: 51px;
    }
    .heading-section {
        font-size: 34px;
        color: #fff;
    }
    .form-control {
        display: block;
        width: 100%;
        font-size: 14px;
        line-height: 1.42857143;
        color: #71748d;
        background-color: #1e252a;
        background-image: none;
        border: 1px solid #d2d2e4;
        border-radius: 2px;
    }
    .form-control:focus, .form-control:active {
        border-color: #1e252a !important;
        background: #1e252a;
    }
    .btn.btn-primary {
        background: #ce9b52 !important;
        border-color: #bc9864 !important;
        color: #fff;
        text-transform: uppercase;
        font-weight: 600;
    }
    
    .attribute {
        color: #dcdc16;
        font-size: 26px;
        text-align: center;
        text-decoration: underline;
    }
    .navbar-brand {
        display: inline-block;
        margin-right: 1rem;
        line-height: inherit;
        white-space: nowrap;
        padding: 11px 20px;
        font-size: 30px;
        text-transform: uppercase;
        font-weight: 700;
        color: #fffb00;
    }
</style>
<body>
    <!-- ============================================================== -->
    <!-- main wrapper -->
    <!-- ============================================================== -->
    <div class="dashboard-main-wrapper">
         <!-- ============================================================== -->
        <!-- navbar -->
        <!-- ============================================================== -->
       <div class="dashboard-header">
            <nav class="navbar navbar-expand-lg bg-white fixed-top">
                <a class="navbar-brand" href="../index.html">$tonks</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                
             </nav> 
    </div> 
        <!-- ============================================================== -->
        <!-- end navbar -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- left sidebar -->
        <!-- ============================================================== -->
        <div class="nav-left-sidebar sidebar-dark">
            <div class="menu-list">
                <nav class="navbar navbar-expand-lg navbar-light">
                    <a class="d-xl-none d-lg-none" href="#">Home</a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav flex-column">
                            <li class="nav-divider">
                                Menu
                            </li>
                            <li class="nav-item ">
                                <a class="nav-link" href="{% url 'home' %}" ><i class="fa fa-fw fa-user-circle"></i>Home <span class="badge badge-success">6</span></a>
                                
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" href="{% url 'all_stocks' %}" ><i class="fa fa-fw fa-rocket"></i>All Stocks</a>
                                
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'compare' %}" ><i class="fa fa-fw fa-rocket"></i>Compare Two Stocks</a>
                                
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'predict' %}" ><i class="fas fa-fw fa-chart-pie"></i>Predict Stock Prices</a>
                                
                            </li>
                            
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
        <!-- ============================================================== -->
        <!-- end left sidebar -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- wrapper  -->
        <!-- ============================================================== -->
       
        <div class="dashboard-wrapper">
            <div class="container-fluid  dashboard-content">
                {% if not flag %}
               
                <section class="ftco-section">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-md-6 text-center mb-5">
                                <h2 class="heading-section">Please Fill Following Details</h2>
                            </div>
                        </div>
                        <div class="row justify-content-center">
                            <div class="col-lg-10 col-md-12">
                                <div class="wrapper">
                                    <div class="row justify-content-center">
                                        
                                        <div class="col-lg-8">
                                            <div class="contact-wrap">
                                                <!-- <h3 class="mb-4 text-center">Please Fill Following Details </h3> -->
                                                <div id="form-message-warning" class="mb-4 w-100 text-center"></div> 
                                          <div id="form-message-success" class="mb-4 w-100 text-center">
                                        Your message was sent, thank you!
                                          </div>
                                                <form method="POST" id="contactForm" name="contactForm" class="contactForm" >
                                                    {% csrf_token %}
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <h3 class="mb-3 mt-4 text-center">Enter Yahoo Code of Company: </h3>
                                                            <div >
                                                                <input type="text" class="form-control" name="company1" id="name" placeholder="Enter Yahoo Code For Stocks">
                                                            </div>
                                                        </div>
                                                        <div class="col-md-12"> 
                                                            <h3 class="mb-3 mt-4 text-center">Enter Start Date: </h3>
                                                            <div class="form-group">
                                                                <input class="form-control" type="date" id="start_date" name="start_date" >
                                                            </div>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <h3 class="mb-3 mt-4  text-center">Enter End Date: </h3>
                                                            <div class="form-group">
                                                                <input class="form-control" type="date" id="close_date" name="close_date" >
                                                            </div>
                                                        </div>
                                                        <!-- <div class="col-md-12">
                                                            <div class="form-group">
                                                                <textarea name="message" class="form-control" id="message" cols="30" rows="8" placeholder="Message"></textarea>
                                                            </div>
                                                        </div> -->
                                                        <div class="col-md-12 mt-3" >
                                                            <div class="form-group">
                                                                <input type="submit" value="SUbmit " class="btn btn-primary">
                                                                <div class="submitting"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- <p>{{info}}</p> -->
                {% elif flag %}
                <div class="row" >
                    <h1 class="form_input" style="font-size: 30px;
                    margin: 4% 21%;
                    color: #cac953;
                    text-decoration: underline;">Presenting {{company}} Data From Begining to End</h1>
                </div>
                <div class="ecommerce-widget">

                    <div class="row">
                        <div class="col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="text-muted">Last Day Price</h5>
                                    <div class="metric-value d-inline-block">
                                        <h1 class="mb-1">{{ last_day_price }}</h1>
                                    </div>
                                    <!-- <div class="metric-label d-inline-block float-right text-success font-weight-bold">
                                        <span><i class="fa fa-fw fa-arrow-up"></i></span><span>5.86%</span>
                                    </div> -->
                                </div>
                                <div id="sparkline-revenue"></div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="text-muted">Highest Price in Given Period</h5>
                                    <div class="metric-value d-inline-block">
                                        <h1 class="mb-1">{{ max_price}}</h1>
                                    </div>
                                    <!-- <div class="metric-label d-inline-block float-right text-success font-weight-bold">
                                        <span><i class="fa fa-fw fa-arrow-up"></i></span><span>5.86%</span>
                                    </div> -->
                                </div>
                                <div id="sparkline-revenue2"></div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="text-muted">Lowest Price in Given Period</h5>
                                    <div class="metric-value d-inline-block">
                                        <h1 class="mb-1">{{ min_price}}</h1>
                                    </div>
                                    <!-- <div class="metric-label d-inline-block float-right text-primary font-weight-bold">
                                        <span>N/A</span>
                                    </div> -->
                                </div>
                                <div id="sparkline-revenue3"></div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="text-muted">Change In Price In Given Period</h5>
                                    <div class="metric-value d-inline-block">
                                        <h1 class="mb-1">{{change_in_price}}</h1>
                                    </div>
                                    <div class="metric-label d-inline-block float-right text-secondary font-weight-bold">
                                        <span>{{change_in_precentage}}%</span>
                                    </div>
                                </div>
                                <div id="sparkline-revenue4"></div>
                            </div>
                        </div>
                    </div>
                <!-- ============================================================== -->
                <!-- end pageheader -->
                <!-- ============================================================== -->
                <div class="row">
                    <!-- ============================================================== -->
                    <!--  area chart  -->
                    <!-- ============================================================== -->
                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <div class="card">
                            <h5 class="card-header">Highest Price Chart</h5>
                            <div class="card-body">
                                <div class="card">
                            <div style="width: 100%;">
                                <canvas id="pie-chart-high" style="background: rgb(1 22 44);color:rgb(247, 247, 247)"></canvas>
                              </div>
                            </div>
                            </div>
                        </div>
                    </div>
                </div>
                    <!-- ============================================================== -->
                    <!--  end area chart  -->
                    <!-- ============================================================== -->
                    <!-- ============================================================== -->
                    <!--  spline chart  -->
                    <!-- ============================================================== -->
                <div class="row">
                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                        <div class="card">
                            <h5 class="card-header">Open Price Chart</h5>
                            <div class="card-body">
                                <div class="card">
                                    <div style="width: 100%; ">
                                        <canvas id="pie-chart-open" style="background: rgb(18 18 18);"></canvas>
                                      </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                        <div class="card">
                            <h5 class="card-header">Low Chart</h5>
                            <div class="card-body">
                                <div class="card">
                                    <div style="width: 100%;">
                                        <canvas id="pie-chart-low" style="background: rgb(18 18 18);"></canvas>
                                      </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- end  spline chart  -->
                <!-- ============================================================== -->
                <div class="row">
                    <!-- ============================================================== -->
                    <!--  zoom chart  -->
                    <!-- ============================================================== -->
                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                        <div class="card">
                            <h5 class="card-header">Close Price Chart</h5>
                            <div class="card-body">
                                <div class="card">
                                    <div style="width: 100%;">
                                        <canvas id="pie-chart-close" style="background: rgb(18 18 18);"></canvas>
                                      </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- ============================================================== -->
                    <!--  end zoom chart  -->
                    <!-- ============================================================== -->
                    <!-- ============================================================== -->
                    <!--  scatter chart  -->
                    <!-- ============================================================== -->
                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                        <div class="card">
                            <h5 class="card-header">Volume Chart</h5>
                            <div class="card-body">
                                <div class="card">
                                    <div style="width: 100%;">
                                        <canvas id="pie-chart-volume" style="background: rgb(18 18 18);"></canvas>
                                      </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!--  end scatter chart  -->
                <!-- ============================================================== -->
                <div class="row">
                    <!-- ============================================================== -->
                    <!--  stacked chart  -->
                    <!-- ============================================================== -->
                   
                </div>
                <div class="row">
                    
                </div>
            </div>
            <button type="button" style="font-size: 20px;
            color: #ccf212;
            background: #0e1f28;
        "> <a href="{% url 'download' 0 %}">Export To CSV</a> </button>
        <h5 class="card-header">{{company}} Data</h5>
            <div class="row" style="color:white">
                <!-- ============================================================== -->
                 <!-- basic table  -->
                 <!-- ============================================================== -->
                 <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12" style="flex: 0 0 100%;
                 max-width: 100%;
                 max-height: 500px;
                 overflow: scroll;
             ">
                     <div class="card">
                         
                         <div class="card-body">
                             <div class="table-responsive">
                                 <table class="table table-striped table-bordered first">
                                     <thead>
                                         <tr>
                                             <th>Date</th>
                                             <th>Open</th>
                                             <th>High</th>
                                             <th>Low</th>
                                             <th>Close</th>
                                             <th>Volume</th>
                                         </tr>
                                     </thead>
                                     <tbody style="
                                     color: white;
                                 "> 
                                          {% for open,high,low,close,volume ,date in df.values %}
                                         <tr>
                                             <td>{{date}}</td>
                                             <td>{{open}}</td>
                                             <td>{{high}}</td>
                                             <td>{{low}}</td>
                                             <td>{{close}}</td>
                                             <td>{{volume}}</td>
             
                                             <!-- <td>{{high}}</td>
                                             <td>{{low}}</td>
                                             <td>{{open}}</td>
                                             <td>{{close}}</td>
                                             <td>{{volume}}
                                             </td> -->
                                         </tr>
                                         {% endfor %}
                                 </table>
                             </div>
                         </div>
                     </div>
                 </div> 
            </div>
            <h5 class="card-header" style="margin-top:2%;">{{company}} Description</h5>
            <div class='description' style='max-height: 500px;
                overflow: scroll;margin-top: 0%;'>
                
                {% for key,value in description.items %}
                
                <h1 class="attribute">{{key}}</h1>
                <h5 class="value">{{value}}</h5>
                
                {% endfor %}
            </div>

            {% endif %}
            <!-- ============================================================== -->
            <!-- footer -->
            <!-- ============================================================== -->
            <div class="footer" style="margin-top:9%">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12">
                            Copyright © 2024 Made By SKAM With Love
                        </div>
                    </div>
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- end footer -->
            <!-- ============================================================== -->
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- end main wrapper -->
    <!-- ============================================================== -->
    <!-- Optional JavaScript -->
    <script src="{% static 'assets/vendor/jquery/jquery-3.3.1.min.js' %}"></script>
    <script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.js' %}"></script>
    <script src="{% static 'assets/vendor/slimscroll/jquery.slimscroll.js' %}"></script>
    <script src="{% static 'assets/vendor/charts/c3charts/c3.min.js' %}"></script>
    <script src="{% static 'assets/vendor/charts/c3charts/d3-5.4.0.min.js' %}"></script>
    <script src="{% static 'assets/vendor/charts/c3charts/C3chartjs.js' %}"></script>
    <script src="{% static 'assets/libs/js/main-js.js' %}"></script>
    <!-- <script src="{% static 'contact/js/jquery.min.js' %}"></script> -->
  <!-- <script src="{% static 'contact/js/popper.js' %}"></script> -->
  <!-- <script src="{% static 'contact/js/bootstrap.min.js' %}"></script> -->
  <!-- <script src="{% static 'contact/js/jquery.validate.min.js' %}"></script> -->
  <!-- <script src="{% static 'contact/js/main.js' %}"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  <script>
    Chart.defaults.global.defaultFontColor= '#fff';
    

    const labels = {{ x| safe }};
    const data_high = {
      labels: labels,
      datasets: [{
        label: "{{ company }}" + " - High",
        data: {{ y_high| safe }},
    fill: true,
      borderColor: 'rgb(255, 0, 0)',
        tension: 0.1,
        backgroundColor: 
      'rgb(20, 20, 20)',
    }]
  };
    const config_high = {
      type: 'line',
      data: data_high
    };
    const data_low = {
      labels: labels,
      datasets: [{
        label: "{{ company }}" + " - Low",
        data: {{ y_low| safe }},
    fill: true,
      borderColor: 'rgb(0, 255, 34)',
        tension: 0.1    }]
  };
    const config_low = {
      type: 'line',
      data: data_low,
    };
    const data_open = {
      labels: labels,
      datasets: [{
        label: "{{ company }}" + " - Open",
        data: {{ y_open| safe }},
    fill: false,
      borderColor: 'rgb(255, 238, 0)',
        tension: 0.1
    }]
  };
    const config_open = {
      type: 'line',
      data: data_open,
    };
    const data_close = {
      labels: labels,
      datasets: [{
        label: "{{ company }}" + "- Close",
        data: {{ y_close| safe }},
    fill: false,
      borderColor: 'rgb(0, 0, 255)',
        tension: 0.1
    }]
  };
    const config_close = {
      type: 'line',
      data: data_close,
    };
    const data_volume = {
      labels: labels,
      datasets: [{
        label: "{{ company }}" + "- Volume",
        data: {{ y_volume| safe }},
    fill: true,
      borderColor: 'rgb(195, 255, 0)',
        tension: 0.1
    }]
  };
    const config_volume = {
      type: 'line',
      data: data_volume,
    };
    

    window.onload = function () {
      var ctx_high = document.getElementById('pie-chart-high').getContext('2d');
      window.myPie = new Chart(ctx_high, config_high);
      var ctx_low = document.getElementById('pie-chart-low').getContext('2d');
      window.myPie = new Chart(ctx_low, config_low);
      var ctx_open = document.getElementById('pie-chart-open').getContext('2d');
      window.myPie = new Chart(ctx_open, config_open);
      var ctx_close = document.getElementById('pie-chart-close').getContext('2d');
      window.myPie = new Chart(ctx_close, config_close);
      var ctx_volume = document.getElementById('pie-chart-volume').getContext('2d');
      window.myPie = new Chart(ctx_volume, config_volume);

    };
  </script>
</body>
</body>
 
</html>